// Danh mục hãng khai thác

import React, { Component } from "react";
import { ReactGrid } from "@silevis/reactgrid";
import { Msearch, Mbutton, Mtable } from "../../../components/BasicUI";

import "./ShipExploitBrand.scss";
import CheckboxCellTemplate from "./CellTemplate";
import { Checkbox } from "antd";

let rowData = [
  {
    key: "1",
    shipBrandNumber: "ACC",
    shipBrandName: "Khách hàng lẻ - Công ty Cổ phần Cảng Nam Đình Vũ",
    status: false,
    edo: true,
    goodsType: "Không chọn",
    payType: "Thu ngay",
  },
  {
    key: "2",
    shipBrandNumber: "ACL",
    shipBrandName: "ADVANCE CONTAINER LINE",
    status: false,
    edo: false,
    goodsType: "Không chọn",
    payType: "Thu ngay",
  },
  {
    key: "3",
    shipBrandNumber: "AEL",
    shipBrandName: "CÔNG TY CỔ PHẦN A.E.L VIỆT NAM",
    status: false,
    edo: true,
    goodsType: "Không chọn",
    payType: "Thu ngay",
  },
  {
    key: "4",
    shipBrandNumber: "ALJA",
    shipBrandName: "Al Jazy Shipping & Forwarding",
    status: false,
    edo: false,
    goodsType: "Không chọn",
    payType: "Thu ngay",
  },
  {
    key: "5",
    shipBrandNumber: "ANL",
    shipBrandName: "ANL SINGAPORE PTE LTD C/O CMA-CGM VIET NAM JSC",
    status: true,
    edo: true,
    goodsType: "Không chọn",
    payType: "Thu ngay",
  },
  {
    key: "6",
    shipBrandNumber: "ANP",
    shipBrandName: "AN PHONG LOGS",
    status: false,
    edo: false,
    goodsType: "Không chọn",
    payType: "Thu ngay",
  },
  {
    key: "7",
    shipBrandNumber: "APL",
    shipBrandName: "CMA CGM ASIA SHIPPING PTE. LTD C/O CMA-CGM VIET NAM JSC",
    status: true,
    edo: false,
    goodsType: "Không chọn",
    payType: "Thu ngay",
  },
  {
    key: "8",
    shipBrandNumber: "ASC",
    shipBrandName: "	ASIA LOGISTICS AND TRADING JSC",
    status: false,
    edo: true,
    goodsType: "Không chọn",
    payType: "Thu ngay",
  },
  {
    key: "9",
    shipBrandNumber: "ASL",
    shipBrandName: "ASEAN SEAS LINE CO., LTD.",
    status: false,
    edo: true,
    goodsType: "Không chọn",
    payType: "Thu ngay",
  },
  {
    key: "10",
    shipBrandNumber: "CCL",
    shipBrandName:
      "Chi nhánh Công ty Cổ phần Vinalines Logistics Việt Nam tại Hải Phòng",
    status: false,
    edo: true,
    goodsType: "Không chọn",
    payType: "Thu ngay",
  },
  {
    key: "11",
    shipBrandNumber: "CKL",
    shipBrandName: "CK LINE CO., LTD",
    status: false,
    edo: true,
    goodsType: "Không chọn",
    payType: "Thu ngay",
  },
  {
    key: "12",
    shipBrandNumber: "CMA",
    shipBrandName: "CMA-CGM SA C/O CMA-CGM VIET NAM JSC",
    status: false,
    edo: false,
    goodsType: "Không chọn",
    payType: "Thu ngay",
  },
  {
    key: "13",
    shipBrandNumber: "CNC",
    shipBrandName: "CMA CGM ASIA SHIPPING PTE. LTD (CNC AS A BRAND OF CMA CGM ASIA SHIPPING PTE. LTD) C/O CMA-CGM VIET NAM JSC",
    status: false,
    edo: true,
    goodsType: "Không chọn",
    payType: "Thu ngay",
  },
  {
    key: "14",
    shipBrandNumber: "CONN",
    shipBrandName: "CONTAINERSHIPS LTD OY",
    status: false,
    edo: false,
    goodsType: "Không chọn",
    payType: "Thu ngay",
  },
  {
    key: "",
    shipBrandNumber: "",
    shipBrandName: "",
    status: false,
    edo: true,
    goodsType: "Không chọn",
    payType: "Thu ngay",
  },
];

export class ShipExploitBrand extends Component {
  constructor(props) {
    super(props);
    this.checkboxCellTemplate = new CheckboxCellTemplate();
    this.state = {
      tableData: {
        reactGridColumns: [
          { columnId: "STT", width: 50, resizable: true, header: "STT" },
          {
            columnId: "shipBrandNumber",
            width: 150,
            resizable: true,
            reorderable: true,
            header: "Mã hãng tàu",
          },
          {
            columnId: "shipBrandName",
            width: 924,
            resizable: true,
            reorderable: true,
            header: "Tên hãng tàu",
          },
          {
            columnId: "status",
            width: 150,
            resizable: true,
            header: <Checkbox />,
          },
          {
            columnId: "edo",
            width: 150,
            resizable: false,
            header: <Checkbox />,
          },
          {
            columnId: "goodsType",
            width: 200,
            resizable: true,
            reorderable: true,
            header: "Hàng Nội/Ngoại",
          },
          {
            columnId: "payType",
            width: 200,
            resizable: true,
            reorderable: true,
            header: "Thanh Toán",
          },
        ],
        reactGridRows: [
          {
            rowId: "header",
            cells: [
              { type: "header", text: "STT" },
              { type: "header", text: "Mã hãng tàu" },
              { type: "header", text: "Tên hãng Tàu" },
              { type: "header", text: "Trạng thái" },
              { type: "header", text: "EDO" },
              { type: "header", text: "Hàng Nội/Ngoại" },
              { type: "header", text: "Thanh toán" },
            ],
          },
          ...this.generateTableData(rowData),
        ],
      },
      searchValue: "",
    };
  }

  generateRowData = (container, index) => {
    return {
      rowId: String(index + 1),
      cells: [
        { type: "text", nonEditable: true, text: container?.key || "" },
        {
          type: "text",
          nonEditable: false,
          text: container?.shipBrandNumber || "",
        },
        {
          type: "text",
          nonEditable: true,
          text: container?.shipBrandName || "",
        },
        {
          type: "custom",
          value: {
            checked: container.status,
            rowId: container.key,
          },
        },
        {
          type: "custom",
          value: {
            checked: container.edo,
            rowId: container.key,
          },
        },

        { type: "text", nonEditable: true, text: container?.goodsType || "" },
        {
          type: "text",
          nonEditable: true,
          text: container?.payType || "",
        },
      ],
    };
  };

  generateTableData = (dataList) => {
    const generateData = dataList.map((container, index) =>
      this.generateRowData(container, index)
    );
    return generateData;
  };

  handleSearchChange = (value) => {
    this.setState({
      searchValue: value,
    });
  };

  render() {
    return (
      <div className="ship-exploit-brand-container">
        <div className="ship-exploit-brand-panel drop-box-shadow">
          <div className="ship-exploit-brand-panel-title title-xl-normal">
            Danh mục hãng khai thác
          </div>
          <div className="ship-exploit-brand-panel-content">
            <div className="ship-exploit-brand-panel-content-navigation">
              <div className="ship-exploit-brand-panel-content-navigation-search">
                <Msearch
                  dataSource={{
                    id: "search1",
                    label: "Search",
                    value: this.state.searchValue,
                    icon: "SearchOutlined",
                    text: "",
                  }}
                  config={{
                    onLiveSearch: (value) => console.log("Live search:", value),
                  }}
                  onChangeValue={(e) => this.handleSearchChange(e["search1"])}
                />
              </div>
              <div className="ship-exploit-brand-panel-content-navigation-button">
                <Mbutton
                  className="m_button third_border drop-button-shadow"
                  block
                  htmlType="submit"
                  type="primary"
                  onClick={this.handleFormSubmit}
                  ref={this.mButtonRef}
                  dataSource={{
                    textbutton: "Lưu",
                    color: "",
                    size: "12",
                    icon: "FileAddOutlined",
                  }}
                />
                <Mbutton
                  className="m_button green drop-button-shadow"
                  block
                  htmlType="submit"
                  type="primary"
                  onClick={this.handleFormSubmit}
                  ref={this.mButtonRef}
                  dataSource={{
                    textbutton: "Xuất file excel",
                    color: "",
                    size: "12",
                    icon: "FileExcelOutlined",
                  }}
                />
              </div>
            </div>
            <div className="ship-exploit-brand-panel-content-table">
              <Mtable
                rows={this.state.tableData.reactGridRows}
                columns={this.state.tableData.reactGridColumns}
                customCellTemplates={{ custom: this.checkboxCellTemplate }}
              />
            </div>
          </div>
        </div>
      </div>
    );
  }
}
export default ShipExploitBrand;
